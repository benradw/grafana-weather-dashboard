[agent]
  interval = "10m"
  round_interval = true
  metric_batch_size = 1000
  metric_buffer_limit = 10000
  collection_jitter = "0s"
  flush_interval = "10s"
  flush_jitter = "0s"
  precision = ""
  hostname = "weather-station"
  omit_hostname = false
  debug = true

[[outputs.influxdb]]
  urls = ["http://influxdb:8086"]
  database = "weather"
  username = "admin"
  password = "admin123"

[[inputs.openweathermap]]
  app_id = "$APP_ID"
  city_id = ["2464470"]  # Only use city_id
  units = "metric"
  lang = "fr"

[[outputs.file]]
  files = ["stdout"]
  data_format = "influx"

[[inputs.cpu]]
  percpu = true
  totalcpu = true
  collect_cpu_time = false
  report_active = true
